project(Tools)
set_property(GLOBAL PROPERTY USE_FOLDERS ON)

function(AddTool APPLICATION_NAME APPLICATION_FILE APPLICATION_PATH)
add_executable(${APPLICATION_NAME} ${APPLICATION_FILE})
set_target_properties(${APPLICATION_NAME} PROPERTIES FOLDER Tools/${APPLICATION_PATH})
target_link_libraries(${APPLICATION_NAME} Pcf)
endfunction()

function(AddFormTool APPLICATION_NAME APPLICATION_FILE APPLICATION_PATH)
add_executable(${APPLICATION_NAME} WIN32 ${APPLICATION_FILE})
set_target_properties(${APPLICATION_NAME} PROPERTIES FOLDER Tools/${APPLICATION_PATH})
target_link_libraries(${APPLICATION_NAME} Pcf)
endfunction()

function(AddStandardTool APPLICATION_NAME APPLICATION_FILE APPLICATION_PATH)
add_executable(${APPLICATION_NAME} ${APPLICATION_FILE})
set_target_properties(${APPLICATION_NAME} PROPERTIES FOLDER Tools/${APPLICATION_PATH})
target_link_libraries(${APPLICATION_NAME})
endfunction()

AddTool(CMakeWriter ./CMakeWriter.cpp CMakeWriter)
AddStandardTool(ConsoleApp ./ConsoleApp.cpp ConsoleApp)
#AddTool(ConsoleApp ./ConsoleApp.cpp ConsoleApp)
AddTool(DoxygentCommentConverter ./DoxygentCommentConverter.cpp DoxygentCommentConverter)
AddTool(PerformanceMeasures ./PerformanceMeasures.cpp PerformanceMeasures)
AddTool(BuildToolsScriptToApp ./BuildToolsScriptToApp.cpp BuildToolsScriptToApp)
AddTool(ShellScriptRunner ./ShellScriptRunner.cpp ShellScriptRunner)
AddTool(ShellScriptToApp ./ShellScriptToApp.cpp ShellScriptToApp)
AddTool(PcfConsoleApp ./PcfConsoleApp.cpp PcfConsoleApp)
AddFormTool(PcfFormApp ./PcfFormApp.cpp PcfFormApp)

if(MSVC)
set(dbghelp dbghelp)
endif()
 
add_subdirectory("CodeGenerators/AddClass/Sources")
add_subdirectory("CodeGenerators/AddPcfClass/Sources")
add_subdirectory("CodeGenerators/AddPcfForm/Sources")
add_subdirectory("CodeGenerators/ConsoleAppGenerator/Sources")
add_subdirectory("CodeGenerators/LibGenerator/Sources")
add_subdirectory("CodeGenerators/PcfConsoleAppGenerator/Sources")
add_subdirectory("CodeGenerators/PcfFormsAppGenerator/Sources")
add_subdirectory("CodeGenerators/PcfLibGenerator/Sources")
