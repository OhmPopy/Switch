<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Portable C++ Framework - Reference Guide: Pcf::System::Windows::Forms::DragEventArgs::Effect</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Portable C++ Framework - Reference Guide
   &#160;<span id="projectnumber">0.2.0</span>
   </div>
   <div id="projectbrief">Pcf libraries contains all fundamental classes to access Hardware, Os, System, and more.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_pcf_1_1_system_1_1_windows_1_1_forms_1_1_drag_event_args.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<a class="anchor" id="ad9e5b36769c2db176156809257bd3bef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pcf_1_1_property.html">Property</a>&lt;<a class="el" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6">DragDropEffects</a>&gt; Pcf::System::Windows::Forms::DragEventArgs::Effect</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets or sets the target drop effect in a drag-and-drop operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>One of the DragDropEffects values. By default, the effect applied determines the mouse cursor for the target of a drag-and-drop operation. This is useful to provide feedback to the user on the operation that will occur. For example, if you press the CTRL key when you drag a file from a source, specify <a class="el" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a5fb63579fc981698f97d55bfecb213ea">DragDropEffects.Copy</a> to indicate the target will try to perform a copy operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>To use custom cursors for a drag operation, see <a class="el" href="class_pcf_1_1_system_1_1_windows_1_1_forms_1_1_give_feedback_event_args_a3d32e5fee2fc2a25f9aa4e52f6515acd.html#a3d32e5fee2fc2a25f9aa4e52f6515acd" title="Gets whether drag operation should use the default cursors that are associated with drag-drop effects...">GiveFeedbackEventArgs.UseDefaultCursors</a>. </dd>
<dd>
The following example demonstrates a drag-and-drop operation between two ListBox controls. The example calls the DoDragDrop method when the drag action starts. The drag action starts if the mouse has moved more than <a class="el" href="class_pcf_1_1_system_1_1_windows_1_1_forms_1_1_system_information_a1d4ba4a526ea7e50b22d366cc6653628.html#a1d4ba4a526ea7e50b22d366cc6653628" title="Gets the width and height of a rectangle centered on the point the mouse button was pressed...">SystemInformation.DragSize</a> from the mouse location during the MouseDown event. The IndexFromPoint method is used to determine the index of the item to drag during the MouseDown event. </dd>
<dd>
The example also demonstrates using custom cursors for the drag-and-drop operation. The example assumes that two cursor files, 3dwarro.cur and 3dwno.cur, exist in the application directory, for the custom drag and no-drop cursors, respectively. The custom cursors will be used if the UseCustomCursorsCheck <a class="el" href="class_pcf_1_1_system_1_1_windows_1_1_forms_1_1_check_box.html" title="Represents a Windows button control. ">CheckBox</a> is checked. The custom cursors are set in the GiveFeedback event handler. </dd>
<dd>
The keyboard state is evaluated in the DragOver event handler for the right ListBox, to determine what the drag operation will be based upon state of the SHIFT, CTRL, ALT, or CTRL+ALT keys. The location in the ListBox where the drop would occur is also determined during the DragOver event. If the data to drop is not a <a class="el" href="class_pcf_1_1_system_1_1_string.html" title="Represents text as a series of Unicode characters. ">String</a>, then the <a class="el" href="class_pcf_1_1_system_1_1_windows_1_1_forms_1_1_drag_event_args_ad9e5b36769c2db176156809257bd3bef.html#ad9e5b36769c2db176156809257bd3bef" title="Gets or sets the target drop effect in a drag-and-drop operation. ">DragEventArgs.Effect</a> is set to <a class="el" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a6adf97f83acf6453d4a6a4b1070f3754">DragDropEffects.None</a>. Finally, the status of the drop is displayed in the DropLocationLabel <a class="el" href="class_pcf_1_1_system_1_1_windows_1_1_forms_1_1_label.html" title="Represents a standard Windows label. ">Label</a>. </dd>
<dd>
The data to drop for the right ListBox is determined in the DragDrop event handler and the <a class="el" href="class_pcf_1_1_system_1_1_string.html" title="Represents text as a series of Unicode characters. ">String</a> value is added at the appropriate place in the ListBox. If the drag operation moves outside the bounds of the form, then the drag-and-drop operation is canceled in the QueryContinueDrag event handler. </dd>
<dd>
This code excerpt demonstrates using the <a class="el" href="class_pcf_1_1_system_1_1_windows_1_1_forms_1_1_drag_event_args.html" title="Contains arguments relevant to all drag-and-drop events (DragEnter, DragLeave, DragOver, and Drop). ">DragEventArgs</a> class. See the DoDragDrop method for the complete code example. <div class="fragment"><div class="line"><span class="keywordtype">void</span> ListDragTarget_DragOver(<span class="keyword">const</span> <span class="keywordtype">object</span>&amp; sender, System::Windows::Forms::DragEventArgs&amp; e) {</div>
<div class="line">  <span class="comment">// Determine whether string data exists in the drop data. If not, then</span></div>
<div class="line">  <span class="comment">// the drop effect reflects that the drop cannot occur.</span></div>
<div class="line">  <span class="keywordflow">if</span> (!e.GetData().GetDataPresent&lt;<a class="code" href="namespace_pcf_1_1_system_a8b1f0938a30fa3ddfb59a7321f3741c7.html#a8b1f0938a30fa3ddfb59a7321f3741c7a27118326006d3829667a400ad23d5d98">System::String</a>&gt;())) {</div>
<div class="line">    e.Effect(<a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a6adf97f83acf6453d4a6a4b1070f3754">DragDropEffects::None</a>);</div>
<div class="line">    DropLocationLabel-&gt;Text(<span class="stringliteral">&quot;None - no string data.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Set the effect based upon the KeyState.</span></div>
<div class="line">  <span class="keywordflow">if</span> ((e.KeyState() &amp; (8+32)) == (8+32) &amp;&amp; (e.AllowedEffect() &amp; <a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_ac1ccceb6bdde2446d948b7565cf09124.html#ac1ccceb6bdde2446d948b7565cf09124a97e7c9a7d06eac006a28bf05467fcc8b">DragDropEffects::Link</a>) == <a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_ac1ccceb6bdde2446d948b7565cf09124.html#ac1ccceb6bdde2446d948b7565cf09124a97e7c9a7d06eac006a28bf05467fcc8b">DragDropEffects::Link</a>) {</div>
<div class="line">    <span class="comment">// KeyState 8 + 32 = CTL + ALT</span></div>
<div class="line">    <span class="comment">// Link drag-and-drop effect.</span></div>
<div class="line">    e.Effect(<a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_ac1ccceb6bdde2446d948b7565cf09124.html#ac1ccceb6bdde2446d948b7565cf09124a97e7c9a7d06eac006a28bf05467fcc8b">DragDropEffects::Link</a>);</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((e.KeyState() &amp; 32) == 32 &amp;&amp; (e.AllowedEffect() &amp; <a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_ac1ccceb6bdde2446d948b7565cf09124.html#ac1ccceb6bdde2446d948b7565cf09124a97e7c9a7d06eac006a28bf05467fcc8b">DragDropEffects::Link</a>) == <a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_ac1ccceb6bdde2446d948b7565cf09124.html#ac1ccceb6bdde2446d948b7565cf09124a97e7c9a7d06eac006a28bf05467fcc8b">DragDropEffects::Link</a>) {</div>
<div class="line">    <span class="comment">// ALT KeyState for link.</span></div>
<div class="line">    e.Effect(<a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_ac1ccceb6bdde2446d948b7565cf09124.html#ac1ccceb6bdde2446d948b7565cf09124a97e7c9a7d06eac006a28bf05467fcc8b">DragDropEffects::Link</a>);</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((e.KeyState() &amp; 4) == 4 &amp;&amp; (e.AllowedEffect() &amp; <a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a6bc362dbf494c61ea117fe3c71ca48a5">DragDropEffects::Move</a>) == <a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a6bc362dbf494c61ea117fe3c71ca48a5">DragDropEffects::Move</a>) {</div>
<div class="line">    <span class="comment">// SHIFT KeyState for move.</span></div>
<div class="line">    e.Effect(<a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a6bc362dbf494c61ea117fe3c71ca48a5">DragDropEffects::Move</a>);</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((e.KeyState() &amp; 8) == 8 &amp;&amp; (e.AllowedEffect() &amp; <a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a5fb63579fc981698f97d55bfecb213ea">DragDropEffects::Copy</a>) == <a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a5fb63579fc981698f97d55bfecb213ea">DragDropEffects::Copy</a>) {</div>
<div class="line">    <span class="comment">// CTL KeyState for copy.</span></div>
<div class="line">    e.Effect(<a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a5fb63579fc981698f97d55bfecb213ea">DragDropEffects::Copy</a>);</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((e.AllowedEffect() &amp; <a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a6bc362dbf494c61ea117fe3c71ca48a5">DragDropEffects::Move</a>) == <a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a6bc362dbf494c61ea117fe3c71ca48a5">DragDropEffects::Move</a>) {</div>
<div class="line">    <span class="comment">// By default, the drop action should be move, if allowed.</span></div>
<div class="line">    e.Effect(<a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a6bc362dbf494c61ea117fe3c71ca48a5">DragDropEffects::Move</a>);</div>
<div class="line">  } <span class="keywordflow">else</span></div>
<div class="line">    e.Effect(<a class="code" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms_a6f1eecb0ebae45cb888ccf98d7bd1ee6.html#a6f1eecb0ebae45cb888ccf98d7bd1ee6a6adf97f83acf6453d4a6a4b1070f3754">DragDropEffects::None</a>);</div>
<div class="line">  <span class="comment">// Get the index of the item the mouse is below.</span></div>
<div class="line">  <span class="comment">// The mouse locations are relative to the screen, so they must be</span></div>
<div class="line">  <span class="comment">// converted to client coordinates.</span></div>
<div class="line">  indexOfItemUnderMouseToDrop =</div>
<div class="line">  ListDragTarget-&gt;SetIndexFromPoint(ListDragTarget-&gt;SetPointToClient(<a class="code" href="namespace_pcf_1_1_system_1_1_drawing_a0fd551dac92fa290f48af720820ae11e.html#a0fd551dac92fa290f48af720820ae11ea2a3cd5946cfd317eb99c3d32e35e2d4c">Point</a>(e.X, e.Y)));</div>
<div class="line">  <span class="comment">// Updates the label text.</span></div>
<div class="line">  <span class="keywordflow">if</span> (indexOfItemUnderMouseToDrop != ListBox-&gt;NoMatches()) {</div>
<div class="line">    DropLocationLabel-&gt;Text(<span class="stringliteral">&quot;Drops before item #&quot;</span> + (indexOfItemUnderMouseToDrop + 1));</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    DropLocationLabel-&gt;Text(<span class="stringliteral">&quot;Drops at the end.&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_pcf.html">Pcf</a></li><li class="navelem"><a class="el" href="namespace_pcf_1_1_system.html">System</a></li><li class="navelem"><a class="el" href="namespace_pcf_1_1_system_1_1_windows.html">Windows</a></li><li class="navelem"><a class="el" href="namespace_pcf_1_1_system_1_1_windows_1_1_forms.html">Forms</a></li><li class="navelem"><a class="el" href="class_pcf_1_1_system_1_1_windows_1_1_forms_1_1_drag_event_args.html">DragEventArgs</a></li>
    <li class="footer">Generated on Mon Dec 26 2016 19:48:57 for Portable C++ Framework - Reference Guide by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
